<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Vizualizácie - TOP INTERIER s.r.o. | 3D návrhy interiérov</title>
    <meta name="description" content="3D vizualizácie a návrhy interiérov od TOP INTERIER s.r.o. - moderné riešenia pre vaš domov v Bratislave a Dunajskej Strede.">
    <meta name="keywords" content="vizualizácie, 3D návrhy, TOP INTERIER, interiéry, kuchyne, Bratislava, Dunajská Streda">
    
    <!-- Base CSS -->
    <link rel="stylesheet" href="../css/base.css?v=3.0">
    <!-- Component CSS -->
    <link rel="stylesheet" href="../css/components/header.css?v=3.0">
    <link rel="stylesheet" href="../css/components/footer.css?v=3.0">
    <link rel="stylesheet" href="../css/components/hero.css?v=3.0">
    <!-- Page-specific CSS -->
    <link rel="stylesheet" href="../css/referencie.css?v=3.0">
    <link rel="stylesheet" href="../css/components/filter.css?v=3.0">
    <link rel="stylesheet" href="../css/components/lightbox.css?v=3.0">
    
    <!-- GSAP and Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>
</head>
<body>
    <!-- Navigation Container -->
    <div id="navigation-container"></div>

    <!-- Hero Section -->
    <section class="contact-hero">
        <div class="contact-hero-content">
            <div class="container">
                <h1 class="contact-hero-title">Vizualizácie</h1>
            </div>
        </div>
    </section>

    <!-- Gallery Section with Filter -->
    <section class="gallery-section">
        <div class="page-with-filter">
            <!-- Filter Sidebar -->
            <div class="filter-sidebar">
                <div id="filter-container">
                    <!-- Filter will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="main-content">
                <div class="vizualizacie-cards-grid" id="vizualizacie-gallery">
                    <!-- Gallery items will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- Fallback Components (always loads) -->
    <script src="../js/fallback-components.js?v=3.0"></script>
    <script src="../js/gsap-simple.js?v=3.0"></script>
    <script src="../js/components/filter.js?v=3.0"></script>
    <script src="../js/components/lightbox.js?v=3.0"></script>

    <!-- Vizualizácie Gallery Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const galleryContainer = document.getElementById('vizualizacie-gallery');
            
            // Visualization projects data
            const vizProjects = [
                {
                    title: 'Bratislava Skypark',
                    description: 'Moderný apartmán v prestížnej lokalite s panoramatickým výhľadom',
                    link: 'projekt.html?projekt=bratislava-skypark',
                    image: '../sources/vizualizacie/Bratislava Skypark/viz_283.jpg',
                    height: 'tall',
                    categories: ['moderne-kuchyne', 'obyvacie-izby']
                },
                {
                    title: 'Rodinný Dom Bratislava',
                    description: 'Elegantný rodinný dom s dôrazom na svetlé priestory',
                    link: 'projekt.html?projekt=rodinny-dom-bratislava',
                    image: '../sources/vizualizacie/Rodinny Dom Bratislava/viz_328.jpg',
                    height: 'medium',
                    categories: ['spalne', 'obyvacie-izby', 'kupelne']
                },
                {
                    title: 'Rodinný dom Dunajská Streda',
                    description: 'Funkčný dizajn s tradičnými prvkami v modernom prevedení',
                    link: 'projekt.html?projekt=rodinny-dom-dunajska-streda',
                    image: '../sources/vizualizacie/Rodinny dom Dunajska streda/viz_310.jpg',
                    height: 'short',
                    categories: ['tradicne-kuchyne', 'obyvacie-izby']
                }
            ];
            
            // Create visualization gallery items
            vizProjects.forEach(function(project) {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'vizualizacie-card';
                galleryItem.setAttribute('data-category', project.categories.join(','));
                
                galleryItem.innerHTML = `
                    <div class="vizualizacie-card-container" data-lightbox="vizualizacie" data-src="${project.image}">
                        <img src="${project.image}" alt="${project.title}" loading="lazy">
                    </div>
                `;
                
                galleryContainer.appendChild(galleryItem);
            });
            
            // Initialize filter
            if (typeof initFilter === 'function') {
                initFilter();
            }
            
            // Initialize lightbox
            if (typeof initLightbox === 'function') {
                initLightbox();
                
                // Initialize data-lightbox functionality
                const lightboxElements = document.querySelectorAll('[data-lightbox]');
                if (lightboxElements.length > 0) {
                    // Group images by data-lightbox attribute
                    const groups = {};
                    lightboxElements.forEach(element => {
                        const groupName = element.getAttribute('data-lightbox');
                        if (!groups[groupName]) groups[groupName] = [];
                        groups[groupName].push({
                            element: element,
                            src: element.getAttribute('data-src') || element.querySelector('img').src
                        });
                    });
                    
                    // Add click handlers for each group
                    Object.keys(groups).forEach(groupName => {
                        const group = groups[groupName];
                        const imagePaths = group.map(item => item.src);
                        
                        group.forEach((item, index) => {
                            item.element.style.cursor = 'pointer';
                            item.element.addEventListener('click', () => {
                                if (typeof openLightbox === 'function') {
                                    openLightbox(imagePaths, index);
                                }
                            });
                        });
                    });
                }
            }
        });
    </script>

    <!-- Main JavaScript (ES6 modules) -->
    <script type="module" src="../js/main.js?v=3.0"></script>
</body>
</html>