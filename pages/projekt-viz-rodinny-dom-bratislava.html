<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Rodinný Dom Bratislava - TOP INTERIER s.r.o.</title>
    <meta name="description" content="3D vizualizácia elegantného rodinného domu v Bratislave - svetlé priestory a moderný dizajn.">
    <meta name="keywords" content="rodinný dom, Bratislava, vizualizácia, interiér, svetlé priestory">
    
    <!-- Base CSS -->
    <link rel="stylesheet" href="../css/base.css?v=3.0">
    <!-- Component CSS -->
    <link rel="stylesheet" href="../css/components/header.css?v=3.0">
    <link rel="stylesheet" href="../css/components/footer.css?v=3.0">
    <link rel="stylesheet" href="../css/components/hero.css?v=3.0">
    <!-- Page-specific CSS -->
    <link rel="stylesheet" href="../css/project-detail.css?v=3.0">
    <link rel="stylesheet" href="../css/components/lightbox.css?v=3.0">
    
    <!-- GSAP and Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>
</head>
<body>
    <!-- Navigation Container -->
    <div id="navigation-container"></div>

    <!-- Project Detail Container -->
    <section class="project-detail-container">
        <!-- Left Sidebar - Project Info -->
        <div class="project-info-sidebar">
            <div class="project-info-content">
                <span class="project-accent-line"></span>
                <h1 class="project-title">Rodinný Dom Bratislava</h1>
                
                <div class="project-description">
                    <p>Elegantný rodinný dom v Bratislave navrhnutý s dôrazom na svetlé priestory a otvorený koncept bývania. Dizajn kombinuje moderné trendy s praktickými riešeniami pre každodennú potrebu rodiny.</p>
                    
                    <p>Interiér charakterizuje jemná farebná paleta, kvalitné materiály a premyslené rozmiestnenie nábytku. Veľké okná zabezpečujú dostatočný prísun prirodzeného svetla do všetkých miestností.</p>
                    
                    <p>Kuchyňa a obývacia časť tvoria jeden harmonický celok, ideálny pre rodinné stretnutia a spoločné chvíle. Každá miestnosť má svoj vlastný charakter, ale zároveň tvorí súčasť jednotného dizajnového konceptu.</p>
                </div>
                
                <div class="project-meta">
                    <div class="project-meta-item">
                        <span class="meta-label">Typ</span>
                        <span class="meta-value">Rodinný dom</span>
                    </div>
                    <div class="project-meta-item">
                        <span class="meta-label">Lokalita</span>
                        <span class="meta-value">Bratislava</span>
                    </div>
                </div>
                
                <a href="vizualizacie.html" class="back-to-vizualizacie">
                    ← Späť na vizualizácie
                </a>
            </div>
        </div>
        
        <!-- Right Content - Photo Gallery -->
        <div class="project-gallery-content">
            <div class="project-gallery-grid" id="gallery-grid">
                <!-- Main hero photo will be loaded here -->
            </div>
            <div class="project-gallery-thumbnails" id="gallery-thumbnails">
                <!-- Thumbnail photos will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- Load components directly with fallback -->
    <script src="../js/fallback-components.js?v=3.0"></script>
    <script src="../js/gsap-simple.js?v=3.0"></script>
    <script src="../js/components/lightbox.js?v=3.0"></script>
    
    <!-- Project Gallery Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Lenis smooth scrolling
            const lenis = new Lenis({
                duration: 1.2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                direction: 'vertical',
                gestureDirection: 'vertical',
                smooth: true,
                mouseMultiplier: 1,
                smoothTouch: false,
                touchMultiplier: 2,
                infinite: false,
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);
            
            const projectFolder = 'Rodinny Dom Bratislava';
            const images = [
                '1.jpg',
                '2.jpg',
                '3.jpg',
                '5.jpg',
                'viz_328.jpg'
            ];
            
            loadGallery(images, projectFolder);
            
            // Initialize lightbox after gallery is loaded
            setTimeout(() => {
                if (typeof initLightbox === 'function') {
                    initLightbox();
                    // Create image paths for lightbox
                    const imagePaths = images.map(img => `../sources/vizualizacie/${projectFolder}/${img}`);
                    initGalleryLightbox(imagePaths);
                }
            }, 100);
        });
        
        function loadGallery(images, folder) {
            const galleryGrid = document.getElementById('gallery-grid');
            const galleryThumbnails = document.getElementById('gallery-thumbnails');
            
            images.forEach((image, index) => {
                if (index === 0) {
                    // First image - main hero photo
                    const heroItem = document.createElement('div');
                    heroItem.className = 'project-gallery-item';
                    
                    const heroImg = document.createElement('img');
                    heroImg.src = `../sources/vizualizacie/${folder}/${image}`;
                    heroImg.alt = `${folder} - hlavný obrázok`;
                    heroImg.loading = 'eager';
                    
                    heroItem.appendChild(heroImg);
                    galleryGrid.appendChild(heroItem);
                } else {
                    // Other images - thumbnails in 3-per-row grid
                    const thumbItem = document.createElement('div');
                    thumbItem.className = 'project-gallery-item';
                    
                    const thumbImg = document.createElement('img');
                    thumbImg.src = `../sources/vizualizacie/${folder}/${image}`;
                    thumbImg.alt = `${folder} - obrázok ${index + 1}`;
                    thumbImg.loading = 'lazy';
                    
                    thumbItem.appendChild(thumbImg);
                    galleryThumbnails.appendChild(thumbItem);
                }
            });
        }
    </script>
</body>
</html>